(function(t){function e(e){for(var a,s,o=e[0],c=e[1],l=e[2],u=0,p=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},n={app:0},i=[];function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"039e":function(t,e,r){"use strict";var a=r("4e75"),n=r.n(a);n.a},2305:function(t,e,r){"use strict";var a=r("d35d"),n=r.n(a);n.a},"4e75":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"inspire"}},[r("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",[t._l(t.links,(function(e){return r("v-list-item",{key:e.title,attrs:{to:e.url}},[r("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),t.isUserLoggedIn?r("v-list-item",{on:{click:t.onLogout}},[r("v-icon",{attrs:{left:""}},[t._v("exit_to_app")]),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s("logout")}})],1)],1):t._e()],2)],1),r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){t.drawer=!t.drawer}}}),r("v-toolbar-title",[r("router-link",{staticClass:"pointer",attrs:{to:"/",tag:"span"}},[t._v("Ad application")])],1),r("v-spacer"),r("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t._l(t.links,(function(e){return r("v-btn",{key:e.title,attrs:{text:"",to:e.url}},[r("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v(" "+t._s(e.title)+" ")],1)})),t.isUserLoggedIn?r("v-btn",{attrs:{text:""},on:{click:t.onLogout}},[r("v-icon",{attrs:{left:""}},[t._v("exit_to_app")]),t._v(" Logout ")],1):t._e()],2)],1),r("v-content",[r("v-container",{staticClass:"fill-height align-start",attrs:{fluid:""}},[r("router-view")],1)],1),t.error?[r("v-snackbar",{attrs:{color:t.error,"multi-line":!0,timeout:5e3,value:!0},on:{input:t.closeError}},[t._v(" "+t._s(t.error)+" "),r("v-btn",{attrs:{dark:"",text:""},on:{click:t.closeError}},[t._v(" Close ")])],1)]:t._e()],2)},i=[],s={data:function(){return{drawer:!1}},methods:{closeError:function(){this.$store.dispatch("clearError")},onLogout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/")}},computed:{error:function(){return this.$store.getters.error},isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn},links:function(){return this.isUserLoggedIn?[{title:"Orders",icon:"bookmark_border",url:"/orders"},{title:"New ad",icon:"note_add",url:"/new"},{title:"My ads",icon:"list",url:"/list"}]:[{title:"Login",icon:"mdi-lock",url:"/login"},{title:"Registration",icon:"face",url:"/Registration"}]}}},o=s,c=(r("2305"),r("2877")),l=r("6544"),d=r.n(l),u=r("7496"),p=r("40dc"),v=r("5bc1"),f=r("8336"),m=r("a523"),h=r("a75b"),g=r("132d"),b=r("8860"),x=r("da13"),w=r("5d23"),y=r("f774"),V=r("2db4"),_=r("2fa4"),C=r("2a7f"),k=Object(c["a"])(o,n,i,!1,null,"6c5d573c",null),O=k.exports;d()(k,{VApp:u["a"],VAppBar:p["a"],VAppBarNavIcon:v["a"],VBtn:f["a"],VContainer:m["a"],VContent:h["a"],VIcon:g["a"],VList:b["a"],VListItem:x["a"],VListItemContent:w["a"],VListItemTitle:w["c"],VNavigationDrawer:y["a"],VSnackbar:V["a"],VSpacer:_["a"],VToolbarItems:C["a"],VToolbarTitle:C["b"]});var L=r("2f62"),E=(r("a4d3"),r("e01a"),r("99af"),r("4de4"),r("7db0"),r("4160"),r("baa5"),r("fb6a"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),S=(r("96cf"),r("1da1")),j=r("d4ec"),A=r("59ca");r("66ce"),r("588e");function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(Object(r),!0).forEach((function(e){Object(E["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var P=function t(e,r,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;Object(j["a"])(this,t),this.title=e,this.description=r,this.ownerId=a,this.imageSrc=n,this.promo=i,this.id=s},T={state:{ads:[]},mutations:{createAd:function(t,e){t.ads.push(e)},loadAds:function(t,e){t.ads=e},updateAd:function(t,e){var r=e.title,a=e.description,n=e.id,i=t.ads.find((function(t){return t.id===n}));i.title=r,i.description=a}},actions:{createAd:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,i,s,o,c,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=e.getters,a("clearError"),a("setLoading",!0),i=r.image,t.prev=4,s=new P(r.title,r.description,n.user.id,"",r.promo),t.next=8,A["database"]().ref("ads").push(s);case 8:return o=t.sent,c=i.name.slice(i.name.lastIndexOf(".")),t.next=12,A["storage"]().ref("ads/".concat(o.key,".").concat(c)).put(i);case 12:return l=t.sent,t.next=15,l.ref.getDownloadURL();case 15:return d=t.sent,t.next=18,A["database"]().ref("ads").child(o.key).update({imageSrc:d});case 18:a("setLoading",!1),a("createAd",$({},s,{id:o.key,imageSrc:d})),t.next=27;break;case 22:throw t.prev=22,t.t0=t["catch"](4),a("setError",t.t0.message),a("setLoading",!1),t.t0;case 27:case"end":return t.stop()}}),t,null,[[4,22]])})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchAds:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("clearError"),r("setLoading",!0),a=[],t.prev=4,t.next=7,A["database"]().ref("ads").once("value");case 7:n=t.sent,i=n.val(),i&&Object.keys(i).forEach((function(t){var e=i[t];a.push(new P(e.title,e.description,e.ownerId,e.imageSrc,e.promo,t))})),r("loadAds",a),r("setLoading",!1),t.next=20;break;case 14:throw t.prev=14,t.t0=t["catch"](4),console.log(t.t0),r("setError",t.t0.message),r("setLoading",!1),t.t0;case 20:case"end":return t.stop()}}),t,null,[[4,14]])})));function e(e){return t.apply(this,arguments)}return e}(),updateAd:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=r.title,i=r.description,s=r.id,a("clearError"),a("setLoading",!0),t.prev=4,t.next=7,A["database"]().ref("ads").child(s).update({title:n,description:i});case 7:a("updateAd",{title:n,description:i,id:s}),a("setLoading",!1),t.next=16;break;case 11:throw t.prev=11,t.t0=t["catch"](4),a("setError",t.t0.message),a("setLoading",!1),t.t0;case 16:case"end":return t.stop()}}),t,null,[[4,11]])})));function e(e,r){return t.apply(this,arguments)}return e}()},getters:{ads:function(t){return t.ads},promoAds:function(t){return t.ads.filter((function(t){return t.promo}))},myAds:function(t,e){return t.ads.filter((function(t){return t.ownerId===e.user.id}))},adBuyId:function(t){return function(e){return t.ads.find((function(t){return t.id===e}))}}}},R=(r("ea7b"),function t(e){Object(j["a"])(this,t),this.id=e}),D={state:{user:null},mutations:{setUser:function(t,e){t.user=e}},actions:{registerUser:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=r.email,i=r.password,a("clearError"),a("setLoading",!0),t.prev=4,t.next=7,A["auth"]().createUserWithEmailAndPassword(n,i);case 7:s=t.sent,o=s.user,a("setUser",new R(o.uid)),a("setLoading",!1),t.next=18;break;case 13:throw t.prev=13,t.t0=t["catch"](4),a("setLoading",!1),a("setError",t.t0.message),t.t0;case 18:case"end":return t.stop()}}),t,null,[[4,13]])})));function e(e,r){return t.apply(this,arguments)}return e}(),loginUser:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=r.email,i=r.password,a("clearError"),a("setLoading",!0),t.prev=4,t.next=7,A["auth"]().signInWithEmailAndPassword(n,i);case 7:s=t.sent,o=s.user,a("setUser",new R(o.uid)),a("setLoading",!1),t.next=18;break;case 13:throw t.prev=13,t.t0=t["catch"](4),a("setLoading",!1),a("setError",t.t0.message),t.t0;case 18:case"end":return t.stop()}}),t,null,[[4,13]])})));function e(e,r){return t.apply(this,arguments)}return e}(),autoLoginUser:function(t,e){var r=t.commit;r("setUser",new R(e.uid))},logoutUser:function(t){var e=t.commit;A["auth"]().signOut(),e("setUser",null)}},getters:{user:function(t){return t.user},isUserLoggedIn:function(t){return null!==t.user}}},U={state:{loading:!1,error:null},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{setLoading:function(t,e){var r=t.commit;r("setLoading",e)},setError:function(t,e){var r=t.commit;r("setError",e)},clearError:function(t){var e=t.commit;e("clearError")}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}},F=function t(e,r,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(j["a"])(this,t),this.name=e,this.phone=r,this.adId=a,this.done=n,this.id=i},B={state:{orders:[]},mutations:{loadOrders:function(t,e){t.orders=e}},actions:{createOrder:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,i,s,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=r.name,i=r.phone,s=r.adId,o=r.ownerId,c=new F(n,i,s),a("clearError"),t.prev=4,t.next=7,A["database"]().ref("/users/".concat(o,"/orders")).push(c);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](4),a("setError",t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[4,9]])})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchOrders:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.getters,r("setLoading",!0),r("clearError"),n=[],t.prev=4,t.next=7,A["database"]().ref("/users/".concat(a.user.id,"/orders")).once("value");case 7:i=t.sent,s=i.val(),Object.keys(s).forEach((function(t){var e=s[t];n.push(new F(e.name,e.phone,e.adId,e.done,t))})),r("loadOrders",n),r("setLoading",!1),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](4),r("setLoading",!1),r("setError",t.t0.messages);case 18:case"end":return t.stop()}}),t,null,[[4,14]])})));function e(e){return t.apply(this,arguments)}return e}(),markOrderDone:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=e.getters,a("clearError"),t.prev=2,t.next=5,A["database"]().ref("/users/".concat(n.user.id,"/orders")).child(r).update({done:!0});case 5:t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](2),a("setError",t.t0.messages),t.t0;case 11:case"end":return t.stop()}}),t,null,[[2,7]])})));function e(e,r){return t.apply(this,arguments)}return e}()},getters:{doneOrders:function(t){return t.orders.filter((function(t){return t.done}))},undoneOrders:function(t){return t.orders.filter((function(t){return!t.done}))},orders:function(t,e){return e.undoneOrders.concat(e.doneOrders)}}};a["a"].use(L["a"]);var q=new L["a"].Store({modules:{ads:T,user:D,shared:U,orders:B}}),z=r("f309");a["a"].use(z["a"]);var M=new z["a"]({theme:{themes:{light:{primary:"#607d8b",secondary:"#ffeb3b",accent:"#cddc39",error:"#e91e63",warning:"#9c27b0",info:"#673ab7",success:"#3f51b5"}}}}),J=r("8c4f"),Y=function(t,e,r){q.getters.user?r():r("/login?loginError=true")},N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("v-container",{staticClass:"justify-center align-center"},[r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"d-flex justify-center align-center pt-5",attrs:{xs12:""}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"purple",size:100,width:5}})],1)],1)],1):r("div",{staticStyle:{width:"100%"}},[r("v-container",{attrs:{fluid:""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-carousel",t._l(t.promoAds,(function(e){return r("v-carousel-item",{key:e.id,attrs:{src:e.imageSrc,"reverse-transition":"fade-transition",transition:"fade-transition"}},[r("div",{staticClass:"carousel-link"},[r("v-btn",{staticClass:"error",attrs:{to:"/ad/"+e.id}},[t._v(t._s(e.title))])],1)])})),1)],1)],1)],1),r("v-container",{attrs:{"grid-list-lg":""}},[r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.ads,(function(e){return r("v-flex",{key:e.id,attrs:{xs12:"",sm6:"",md4:""}},[r("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[r("v-img",{attrs:{src:e.imageSrc,height:"200px"}}),r("v-card-title",[t._v(" "+t._s(e.title)+" ")]),r("v-card-subtitle",[t._v(" "+t._s(e.description)+" ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:"",to:"/ad/"+e.id}},[t._v("Open")]),r("app-buy-modal",{attrs:{ad:e}})],1)],1)],1)})),1)],1)],1)},W=[],G={computed:{promoAds:function(){return this.$store.getters.promoAds},ads:function(){return this.$store.getters.ads},loading:function(){return this.$store.getters.loading}}},H=G,K=(r("039e"),r("b0af")),X=r("99d9"),Q=r("5e66"),Z=r("3e35"),tt=r("0e8f"),et=r("adda"),rt=r("a722"),at=r("490a"),nt=Object(c["a"])(H,N,W,!1,null,"448674d1",null),it=nt.exports;d()(nt,{VBtn:f["a"],VCard:K["a"],VCardActions:X["a"],VCardSubtitle:X["b"],VCardTitle:X["d"],VCarousel:Q["a"],VCarouselItem:Z["a"],VContainer:m["a"],VFlex:tt["a"],VImg:et["a"],VLayout:rt["a"],VProgressCircular:at["a"],VSpacer:_["a"]});var st=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[t.loading?r("div",{staticClass:"d-flex justify-center align-center pt-5"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"purple",size:100,width:5}})],1):r("v-card",[r("v-img",{attrs:{src:t.ad.imageSrc,height:"300"}}),r("v-card-text",[r("h1",{staticClass:"text--primary"},[t._v(t._s(t.ad.title))]),r("p",[t._v(t._s(t.ad.description))])]),r("v-card-actions",[r("v-spacer"),t.isOwner?r("add-edit-ad-modal",{attrs:{ad:t.ad}}):t._e(),r("app-buy-modal",{attrs:{ad:t.ad}})],1)],1)],1)],1)],1)},ot=[],ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({staticClass:"warning",attrs:{text:""}},a),[t._v("Edit")])]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("v-card",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-title",[r("h1",{staticClass:"text--primary"},[t._v("Editad")])])],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-text",[r("v-text-field",{attrs:{name:"title",label:"Title",type:"text"},model:{value:t.editedTitle,callback:function(e){t.editedTitle=e},expression:"editedTitle"}}),r("v-text-field",{attrs:{name:"description",label:"Description",type:"text"},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}})],1)],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:t.onCancel}},[t._v("Cancel")]),r("v-btn",{staticClass:"success",attrs:{text:""},on:{click:t.onSave}},[t._v("Save")])],1)],1)],1)],1)],1)],1)},lt=[],dt={props:["ad"],data:function(){return{modal:!1,editedDescription:this.ad.description,editedTitle:this.ad.title}},methods:{onCancel:function(){this.editedDescription=this.ad.description,this.editedTitle=this.ad.title,this.modal=!1},onSave:function(){""!==this.editedDescription&&""!==this.editedTitle&&(this.$store.dispatch("updateAd",{title:this.editedTitle,description:this.editedDescription,id:this.ad.id}),this.modal=!1)}}},ut=dt,pt=r("169a"),vt=r("ce7e"),ft=r("8654"),mt=Object(c["a"])(ut,ct,lt,!1,null,"2be15c66",null),ht=mt.exports;d()(mt,{VBtn:f["a"],VCard:K["a"],VCardActions:X["a"],VCardText:X["c"],VCardTitle:X["d"],VContainer:m["a"],VDialog:pt["a"],VDivider:vt["a"],VFlex:tt["a"],VLayout:rt["a"],VSpacer:_["a"],VTextField:ft["a"]});var gt={props:["id"],computed:{ad:function(){var t=this.id;return this.$store.getters.adBuyId(t)},loading:function(){return this.$store.getters.loading},isOwner:function(){return this.ad.ownerId===this.$store.getters.user.id}},components:{addEditAdModal:ht}},bt=gt,xt=Object(c["a"])(bt,st,ot,!1,null,null,null),wt=xt.exports;d()(xt,{VCard:K["a"],VCardActions:X["a"],VCardText:X["c"],VContainer:m["a"],VFlex:tt["a"],VImg:et["a"],VLayout:rt["a"],VProgressCircular:at["a"],VSpacer:_["a"]});var yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading||0===t.myAds.length?t.loading||0!==t.myAds.length?t.loading||0!==t.myAds.length?t._e():r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"d-flex justify-center align-center pt-5",attrs:{xs12:""}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"purple",size:100,width:5}})],1)],1):r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"d-flex justify-center align-center pt-5",attrs:{xs12:""}},[r("h1",{staticClass:"text--primary"},[t._v("You have no ads.")])])],1):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("My ads")]),t._l(t.myAds,(function(e){return r("v-card",{key:e.id,staticClass:"elevation-10 mb-5"},[r("v-container",{staticClass:"pt-0 pb-0"},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs4:""}},[r("v-img",{attrs:{src:e.imageSrc,height:"150px"}})],1),r("v-flex",{attrs:{xs8:""}},[r("v-card-text",[r("h2",{staticClass:"text--primary"},[t._v(t._s(e.title))]),r("p",[t._v(t._s(e.description))])]),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"info",attrs:{to:"/ad/"+e.id}},[t._v("Open")])],1)],1)],1)],1)],1)}))],2)],1)],1)},Vt=[],_t={computed:{myAds:function(){return this.$store.getters.myAds},loading:function(){return this.$store.getters.loading}}},Ct=_t,kt=Object(c["a"])(Ct,yt,Vt,!1,null,null,null),Ot=kt.exports;d()(kt,{VBtn:f["a"],VCard:K["a"],VCardActions:X["a"],VCardText:X["c"],VContainer:m["a"],VFlex:tt["a"],VImg:et["a"],VLayout:rt["a"],VProgressCircular:at["a"],VSpacer:_["a"]});var Lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("Create new Ad")]),r("v-form",{ref:"form",staticClass:"mb-6",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:"Ad title",name:"title",type:"text",required:"",rules:[function(t){return!!t||"Title is required"}]},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),r("v-textarea",{attrs:{label:"Ad description",name:"description",type:"text",rules:[function(t){return!!t||"Description is required"}]},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),r("v-layout",{staticClass:"mb-3",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-btn",{staticClass:"warning",on:{click:t.triggerUpload}},[t._v(" Upload "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-cloud-upload")])],1),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}})],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",[t.imageSrc?r("img",{attrs:{src:t.imageSrc,height:"100"}}):t._e()])],1),r("v-layout",{attrs:{row:""}},[r("v-flex",[r("v-switch",{attrs:{color:"primary",label:"Add to promo"},model:{value:t.promo,callback:function(e){t.promo=e},expression:"promo"}})],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",[r("v-spacer"),r("v-btn",{staticClass:"success",attrs:{loading:t.loading,disabled:!t.valid||!t.image||t.loading},on:{click:t.createAd}},[t._v("Create ad")])],1)],1)],1)],1)],1)},Et=[],St={data:function(){return{title:"",description:"",promo:!1,valid:!1,image:null,imageSrc:""}},computed:{loading:function(){return this.$store.getters.loading}},methods:{createAd:function(){var t=this;if(this.$refs.form.validate()&&this.image){var e={title:this.title,description:this.description,promo:this.promo,image:this.image};this.$store.dispatch("createAd",e).then((function(){t.$router.push("/list")})).catch((function(){}))}},triggerUpload:function(){this.$refs.fileInput.click()},onFileChange:function(t){var e=this,r=t.target.files[0],a=new FileReader;a.onload=function(){e.imageSrc=a.result},a.readAsDataURL(r),this.image=r}}},jt=St,At=r("4bd4"),It=r("b73d"),$t=r("a844"),Pt=Object(c["a"])(jt,Lt,Et,!1,null,null,null),Tt=Pt.exports;d()(Pt,{VBtn:f["a"],VContainer:m["a"],VFlex:tt["a"],VForm:At["a"],VIcon:g["a"],VLayout:rt["a"],VSpacer:_["a"],VSwitch:It["a"],VTextField:ft["a"],VTextarea:$t["a"]});var Rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Login form")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:"email",name:"login","prepend-icon":"person",type:"email",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{label:"Password",name:"password","prepend-icon":"lock",counter:6,type:"password",rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.onSubmit}},[t._v("Login")])],1)],1)],1)],1)],1)},Dt=[],Ut={data:function(){return{email:"",password:"",valid:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"Password must be equal or more than 6 characters"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("loginUser",e).then((function(){t.$router.push("/")})).catch((function(){}))}}},created:function(){this.$route.query["loginError"]&&this.$store.dispatch("setError","Please log in to access this page.")}},Ft=Ut,Bt=r("62ad"),qt=r("0fd9"),zt=r("71d9"),Mt=Object(c["a"])(Ft,Rt,Dt,!1,null,null,null),Jt=Mt.exports;d()(Mt,{VBtn:f["a"],VCard:K["a"],VCardActions:X["a"],VCardText:X["c"],VCol:Bt["a"],VContainer:m["a"],VForm:At["a"],VRow:qt["a"],VSpacer:_["a"],VTextField:ft["a"],VToolbar:zt["a"],VToolbarTitle:C["b"]});var Yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Registration form")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{validation:"","lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:"email",name:"login","prepend-icon":"person",type:"email",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"lock",type:"password",counter:6,rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-text-field",{attrs:{id:"confirmPassword",label:"Confirm password",name:"confirm-password","prepend-icon":"lock",type:"password",counter:6,rules:t.confirmPasswordRules},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.onSubmit}},[t._v("Create account")])],1)],1)],1)],1)],1)},Nt=[],Wt={data:function(){var t=this;return{email:"",password:"",confirmPassword:"",valid:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"Password must be equal or more than 6 characters"}],confirmPasswordRules:[function(t){return!!t||"Password is required"},function(e){return e===t.password||"Password should match"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("registerUser",e).then((function(){t.$router.push("/")})).catch((function(){}))}}}},Gt=Wt,Ht=Object(c["a"])(Gt,Yt,Nt,!1,null,null,null),Kt=Ht.exports;d()(Ht,{VBtn:f["a"],VCard:K["a"],VCardActions:X["a"],VCardText:X["c"],VCol:Bt["a"],VContainer:m["a"],VForm:At["a"],VRow:qt["a"],VSpacer:_["a"],VTextField:ft["a"],VToolbar:zt["a"],VToolbarTitle:C["b"]});var Xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[t.loading?r("v-flex",{staticClass:"text-center pt-5",attrs:{xs12:""}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"purple",size:100,width:5}})],1):t.loading||0===t.orders.length?r("v-flex",{staticClass:"text-center",attrs:{xs12:""}},[r("h1",{staticClass:"text--secondary"},[t._v("You have no orders")])]):r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("Orders")]),r("v-list",{attrs:{subheader:"","two-line":"",flat:""}},[r("v-list-item-group",{attrs:{multiple:""}},t._l(t.orders,(function(e){return r("v-list-item",{key:e.id,scopedSlots:t._u([{key:"default",fn:function(a){a.active,a.toggle;return[r("v-list-item-action",[r("v-checkbox",{attrs:{color:"success","input-value":e.done},on:{change:function(r){return t.markDone(e)}}})],1),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.name))]),r("v-list-item-subtitle",[t._v(t._s(e.phone))])],1),r("v-list-item-action",[r("v-btn",{staticClass:"primary",attrs:{to:"/ad/"+e.adId}},[t._v("Open")])],1)]}}],null,!0)})})),1)],1)],1)],1)],1)},Qt=[],Zt={computed:{loading:function(){return this.$store.getters.loading},orders:function(){return this.$store.getters.orders}},methods:{markDone:function(t){this.$store.dispatch("markOrderDone",t.id).then((function(){t.done=!0})).catch((function(){}))}},created:function(){this.$store.dispatch("fetchOrders")}},te=Zt,ee=r("ac7c"),re=r("1800"),ae=r("1baa"),ne=Object(c["a"])(te,Xt,Qt,!1,null,null,null),ie=ne.exports;d()(ne,{VBtn:f["a"],VCheckbox:ee["a"],VContainer:m["a"],VFlex:tt["a"],VLayout:rt["a"],VList:b["a"],VListItem:x["a"],VListItemAction:re["a"],VListItemContent:w["a"],VListItemGroup:ae["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VProgressCircular:at["a"]}),a["a"].use(J["a"]);var se=new J["a"]({routes:[{path:"",name:"home",component:it},{path:"/ad/:id",props:!0,name:"ad",component:wt},{path:"/list",name:"list",component:Ot,beforeEnter:Y},{path:"/new",name:"newAd",component:Tt,beforeEnter:Y},{path:"/login",name:"login",component:Jt},{path:"/registration",name:"registration",component:Kt},{path:"/orders",name:"orders",component:ie,beforeEnter:Y}],mode:"history"}),oe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({staticClass:"success",attrs:{text:""}},a),[t._v("Buy")])]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("v-card",[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-title",[r("h1",{staticClass:"text--primary",staticStyle:{"font-size":"30px"}},[t._v("Do you wan't to buy it?")])])],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-text",[r("v-text-field",{attrs:{name:"name",label:"Your name",type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("v-text-field",{attrs:{name:"phone",label:"Your phone",type:"text"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:"",disabled:t.localLoading},on:{click:t.onCancel}},[t._v(" Close ")]),r("v-btn",{staticClass:"success",attrs:{text:"",disabled:t.localLoading,loading:t.localLoading},on:{click:t.onSave}},[t._v(" Buy it! ")])],1)],1)],1)],1)],1)],1)},ce=[],le=(r("d3b7"),{props:["ad"],data:function(){return{modal:!1,name:"",phone:"",localLoading:!1}},methods:{onCancel:function(){this.name="",this.phone="",this.modal=!1},onSave:function(){var t=this;""!==this.name&&""!==this.phone&&(this.localLoading=!0,this.$store.dispatch("createOrder",{name:this.name,phone:this.phone,adId:this.ad.id,ownerId:this.ad.ownerId}).finally((function(){t.name="",t.phone="",t.localLoading=!1,t.modal=!1})),this.modal=!1)}}}),de=le,ue=Object(c["a"])(de,oe,ce,!1,null,"1c1e15c9",null),pe=ue.exports;d()(ue,{VBtn:f["a"],VCard:K["a"],VCardActions:X["a"],VCardText:X["c"],VCardTitle:X["d"],VContainer:m["a"],VDialog:pt["a"],VDivider:vt["a"],VFlex:tt["a"],VLayout:rt["a"],VSpacer:_["a"],VTextField:ft["a"]});r("b107");a["a"].config.productionTip=!1,a["a"].component("app-buy-modal",pe),new a["a"]({vuetify:M,router:se,store:q,created:function(){var t=this;A["initializeApp"]({apiKey:"AIzaSyCcWrXscJtIJndPJ5DWYVvg4eSLeczI-Jo",authDomain:"itc-ads-cf8e4.firebaseapp.com",databaseURL:"https://itc-ads-cf8e4.firebaseio.com",projectId:"itc-ads-cf8e4",storageBucket:"itc-ads-cf8e4.appspot.com",messagingSenderId:"419696833781",appId:"1:419696833781:web:02691be1b13050034281bc",measurementId:"G-H5SN83EE6S"}),A["auth"]().onAuthStateChanged((function(e){e&&t.$store.dispatch("autoLoginUser",e)})),this.$store.dispatch("fetchAds")},render:function(t){return t(O)}}).$mount("#app")},b107:function(t,e,r){},d35d:function(t,e,r){}});
//# sourceMappingURL=app.81e53c3b.js.map